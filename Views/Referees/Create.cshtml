@model QLBDN.Models.Referee

@{
    Layout = "~/Views/Shared/_layout.cshtml";
    ViewData["Title"] = "Th√™m tr·ªçng t√†i m·ªõi";
}

@section Styles {
<style>
    .create-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 1rem;
    }

    /* ---------------- HEADER ---------------- */
    .page-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .back-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: #059669;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
        transition: all 0.3s;
    }

    .back-link:hover {
        color: #047857;
        transform: translateX(-3px);
    }

    .page-title {
        font-size: 2rem;
        font-weight: 800;
        color: #059669;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }

    .page-subtitle {
        color: #64748b;
        font-size: 0.95rem;
    }

    /* ---------------- FORM CARD ---------------- */
    .form-card {
        background: white;
        border-radius: 16px;
        padding: 2.5rem;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
        border: 1px solid #f1f5f9;
        animation: fadeIn 0.5s ease;
    }

    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* ---------------- FORM SECTIONS ---------------- */
    .form-section {
        margin-bottom: 2rem;
    }

    .section-title {
        font-size: 1.1rem;
        font-weight: 700;
        color: #0f172a;
        margin-bottom: 1.5rem;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid #f1f5f9;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        color: #334155;
        margin-bottom: 0.75rem;
        font-size: 0.95rem;
    }

    .form-label .required {
        color: #ef4444;
    }

    .form-label .optional {
        color: #94a3b8;
        font-size: 0.8rem;
        font-weight: 500;
    }

    .form-input,
    .form-select {
        width: 100%;
        padding: 0.875rem 1.25rem;
        border: 1.5px solid #e2e8f0;
        border-radius: 12px;
        font-size: 0.95rem;
        transition: all 0.3s;
        background: white;
        color: #0f172a;
    }

    .form-input:focus,
    .form-select:focus {
        outline: none;
        border-color: #10b981;
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
    }

    .form-input:hover,
    .form-select:hover {
        border-color: #cbd5e1;
    }

    .form-select {
        cursor: pointer;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2364748b' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 1rem center;
        padding-right: 3rem;
    }

    .form-input::placeholder {
        color: #94a3b8;
    }

    .input-hint {
        display: block;
        margin-top: 0.5rem;
        font-size: 0.85rem;
        color: #64748b;
    }

    .text-danger {
        color: #dc2626;
        font-size: 0.85rem;
        margin-top: 0.5rem;
        display: block;
    }

    /* ---------------- LEVEL BADGES ---------------- */
    .level-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 0.75rem;
    }

    .level-option {
        display: none;
    }

    .level-label {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.875rem 1rem;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: 600;
        font-size: 0.9rem;
        color: #475569;
        background: white;
    }

    .level-option:checked + .level-label {
        border-color: #10b981;
        background: linear-gradient(135deg, #ecfdf5, #d1fae5);
        color: #047857;
        box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
    }

    .level-label:hover {
        border-color: #10b981;
        background: #f0fdf4;
    }

    /* ---------------- INFO BOX ---------------- */
    .info-box {
        background: linear-gradient(135deg, #dbeafe, #bfdbfe);
        border-radius: 12px;
        padding: 1rem 1.25rem;
        border: 1px solid #93c5fd;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: start;
        gap: 0.75rem;
    }

    .info-icon {
        font-size: 1.25rem;
        flex-shrink: 0;
    }

    .info-content {
        flex: 1;
    }

    .info-title {
        font-size: 0.85rem;
        font-weight: 700;
        color: #1e40af;
        margin-bottom: 0.25rem;
    }

    .info-text {
        font-size: 0.85rem;
        color: #1e3a8a;
        line-height: 1.5;
    }

    /* ---------------- FORM ACTIONS ---------------- */
    .form-actions {
        display: flex;
        gap: 1rem;
        margin-top: 2.5rem;
        padding-top: 2rem;
        border-top: 1px solid #f1f5f9;
    }

    .btn-submit {
        flex: 1;
        padding: 0.875rem 2rem;
        background: linear-gradient(135deg, #34d399, #10b981);
        color: white;
        border: none;
        border-radius: 12px;
        font-weight: 700;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.35);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }

    .btn-submit:hover {
        background: linear-gradient(135deg, #10b981, #059669);
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(16, 185, 129, 0.45);
    }

    .btn-submit:active {
        transform: translateY(0);
    }

    .btn-cancel {
        flex: 0.6;
        padding: 0.875rem 2rem;
        background: #e2e8f0;
        color: #334155;
        border: none;
        border-radius: 12px;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }

    .btn-cancel:hover {
        background: #cbd5e1;
        color: #1e293b;
    }

    /* ---------------- INPUT ICONS ---------------- */
    .input-with-icon {
        position: relative;
    }

    .input-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.1rem;
        color: #94a3b8;
        pointer-events: none;
    }

    .input-with-icon .form-input {
        padding-left: 2.75rem;
    }

    /* ---------------- RESPONSIVE ---------------- */
    @@media (max-width: 768px) {
        .create-container {
            padding: 1rem 0.75rem;
        }

        .form-card {
            padding: 1.5rem;
        }

        .page-title {
            font-size: 1.6rem;
        }

        .form-actions {
            flex-direction: column;
        }

        .btn-cancel {
            flex: 1;
        }

        .level-grid {
            grid-template-columns: 1fr 1fr;
        }
    }
</style>
}

<div class="create-container">
    <a asp-action="Index" class="back-link">
        <span>‚Üê</span>
        <span>Quay l·∫°i danh s√°ch</span>
    </a>

    <div class="page-header">
        <h2 class="page-title">
            <span>‚ûï</span>
            <span>Th√™m tr·ªçng t√†i m·ªõi</span>
        </h2>
        <p class="page-subtitle">
            Th√™m th√¥ng tin tr·ªçng t√†i v√†o h·ªá th·ªëng qu·∫£n l√Ω
        </p>
    </div>

    <div class="form-card">
        <form asp-action="Create" method="post">

            <!-- INFO BOX -->
            <div class="info-box">
                <div class="info-icon">üí°</div>
                <div class="info-content">
                    <div class="info-title">L∆∞u √Ω khi th√™m tr·ªçng t√†i</div>
                    <div class="info-text">
                        Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin c∆° b·∫£n. C√°c tr∆∞·ªùng c√≥ d·∫•u (*) l√† b·∫Øt bu·ªôc. UserID ch·ªâ c·∫ßn ƒëi·ªÅn n·∫øu mu·ªën li√™n k·∫øt v·ªõi t√†i kho·∫£n ng∆∞·ªùi d√πng.
                    </div>
                </div>
            </div>

            <!-- SECTION 1: BASIC INFO -->
            <div class="form-section">
                <h3 class="section-title">
                    <span>üë§</span>
                    <span>Th√¥ng tin c∆° b·∫£n</span>
                </h3>

                <!-- FULL NAME -->
                <div class="form-group">
                    <label class="form-label">
                        <span>üìù</span>
                        <span>H·ªç v√† t√™n</span>
                        <span class="required">*</span>
                    </label>
                    <div class="input-with-icon">
                        <span class="input-icon">üë®‚Äç‚öñÔ∏è</span>
                        <input asp-for="FullName" 
                               class="form-input" 
                               placeholder="VD: Nguy·ªÖn VƒÉn A"
                               required />
                    </div>
                    <span asp-validation-for="FullName" class="text-danger"></span>
                </div>

                <!-- DATE OF BIRTH -->
                <div class="form-group">
                    <label class="form-label">
                        <span>üéÇ</span>
                        <span>Ng√†y sinh</span>
                    </label>
                    <input asp-for="DateOfBirth" 
                           type="date" 
                           class="form-input" />
                    <span class="input-hint">Ng√†y sinh c·ªßa tr·ªçng t√†i</span>
                </div>
            </div>

            <!-- SECTION 2: PROFESSIONAL INFO -->
            <div class="form-section">
                <h3 class="section-title">
                    <span>üèÜ</span>
                    <span>Th√¥ng tin ngh·ªÅ nghi·ªáp</span>
                </h3>

                <!-- EXPERIENCE -->
                <div class="form-group">
                    <label class="form-label">
                        <span>üìä</span>
                        <span>S·ªë nƒÉm kinh nghi·ªám</span>
                    </label>
                    <div class="input-with-icon">
                        <span class="input-icon">‚è≥</span>
                        <input asp-for="Experience" 
                               type="number" 
                               min="0" 
                               class="form-input"
                               placeholder="VD: 5" />
                    </div>
                    <span class="input-hint">S·ªë nƒÉm l√†m vi·ªác trong ng√†nh tr·ªçng t√†i</span>
                </div>

                <!-- LEVEL -->
                <div class="form-group">
                    <label class="form-label">
                        <span>üéñÔ∏è</span>
                        <span>C·∫•p ƒë·ªô tr·ªçng t√†i</span>
                    </label>
                    <select asp-for="Level" class="form-select">
                        <option value="">-- Ch·ªçn c·∫•p ƒë·ªô --</option>
                        <option value="FIFA">FIFA</option>
                        <option value="UEFA">UEFA</option>
                        <option value="National">National</option>
                        <option value="Local">Local</option>
                    </select>
                    <span class="input-hint">C·∫•p ƒë·ªô ch·ª©ng ch·ªâ c·ªßa tr·ªçng t√†i</span>
                </div>
            </div>

            <!-- SECTION 3: SYSTEM INFO -->
            <div class="form-section">
                <h3 class="section-title">
                    <span>‚öôÔ∏è</span>
                    <span>Th√¥ng tin h·ªá th·ªëng</span>
                </h3>

                <!-- USER LINK -->
                <div class="form-group">
                    <label class="form-label">
                        <span>üîó</span>
                        <span>User ID</span>
                        <span class="optional">(T√πy ch·ªçn)</span>
                    </label>
                    <div class="input-with-icon">
                        <span class="input-icon">üë§</span>
                        <input asp-for="UserId" 
                               type="number" 
                               min="1" 
                               class="form-input"
                               placeholder="Nh·∫≠p ID ƒë·ªÉ li√™n k·∫øt t√†i kho·∫£n" />
                    </div>
                    <span class="input-hint">Li√™n k·∫øt v·ªõi t√†i kho·∫£n ng∆∞·ªùi d√πng trong h·ªá th·ªëng (n·∫øu c√≥)</span>
                </div>
            </div>

            <!-- FORM ACTIONS -->
            <div class="form-actions">
                <a asp-action="Index" class="btn-cancel">
                    <span>‚úï</span>
                    <span>H·ªßy b·ªè</span>
                </a>
                <button type="submit" class="btn-submit">
                    <span>üíæ</span>
                    <span>L∆∞u tr·ªçng t√†i</span>
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script>
        // Auto-focus first input
        window.addEventListener('load', function() {
            document.querySelector('[name="FullName"]').focus();
        });

        // Form validation
        document.querySelector('form').addEventListener('submit', function(e) {
            const fullName = document.querySelector('[name="FullName"]').value.trim();
            
            if (!fullName) {
                e.preventDefault();
                alert('Vui l√≤ng nh·∫≠p h·ªç t√™n tr·ªçng t√†i!');
                return false;
            }
        });
    </script>
}